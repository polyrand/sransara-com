{{ define "header" }}

{{ if (or (.Page.HasShortcode "maths") (.Page.HasShortcode "mathb")) }}
<script>MathJax = {tex: {inlineMath: [['[maths]','[/maths]']], displayMath: [['[mathp]','[/mathp]']], processEscapes: false, processEnvironments: false, processRefs: false, tags: 'ams',},};</script>
<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.0/es5/tex-mml-chtml.js"></script>
{{ end }}

{{ end }}

{{ define "main" }}

{{ $metaf := printf "transient/content/%s/%s.json" .File.Dir .File.BaseFileName }}
{{ $metaf | .Scratch.Set "metaf"  }}
{{ .Scratch.Get "metaf" | readFile | transform.Unmarshal | .Scratch.Set "meta"  }}

<main class="container leading-normal max-w-2xl mx-auto p-3">
    {{ partial "breadcrumbs.html" . }}
    <h1 class="mb-2 text-3xl font-bold">{{ .Title }}</h1>
    <h5 class="mb-2 text-gray-500 text-xs">
        Published
        by <span class="text-gray-800">Samodya R. Abeysiriwardane</span>
        on <span class="text-gray-800">{{ .Date.Format "Jan 02, 2006" }}</span>
        / <a target="_blank" rel="noopener noreferrer" href="https://github.com/sransara/sransara-com/tree/master/content/{{ .File.Dir }}">Source</a>
        / <a href="{{.Permalink}}">Permalink</a>
    </h5>
    <hr class="my-2 border-2 border-gray-700" />
    <div id="article" class="classless">
        {{ .Content }}
    </div>
</main>

{{ end }}

{{ define "footer" }}

<script>
(function (){
})();
</script>

{{ end }}
